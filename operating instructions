User instructions for Raduino_v1.09

After the version update all calibration data, drive level settings, etc will be erased.
Before updating note down your cal values etc. After the update use the Function Button to set them back again.

Don't have a Function Button yet?
If you don't install a pushbutton then the basic functions will still work.
(of course you will miss the dual VFO, RIT and USB capability then).
Calibration can still be done in the old fashioned way using the CAL button (red wire).
The tuning range setting can be 'hard coded' by uncommenting line 1155 and adapting the value to your needs.

PTT SENSE WIRING:
Connect pin A0 (black wire) via a 10K resistor to the output of U3 (LM7805 regulator) on the BITX40 board.
When the PTT is not pressed (RX mode), the regulator will be off, so pin A0 will see 0V (LOW).
When the PTT is pressed (TX mode), the regulator will be on, so pin A0 will see +5V (HIGH).
The PTT SENSE is required for the RIT (SPLIT) functionality.

FUNCTION BUTTON WIRING:
Connect a momentary pushbutton between pin A3 (orange wire) and ground.
Arduino's internal pull-up resistors are used, therefore do NOT install an external pull-up resistor!

FUNCTION BUTTON USAGE:

Several functions are available with just one pushbutton.
In normal mode:
1 short press - toggle VFO A/B
2 short presses - toggle RIT on/off
3 short presses - toggle LSB/USB mode
long press (> 2 seconds) - VFO A=B

When you press the Fbutton VERY long (>5 seconds) you will enter the SETTINGS menu.
In SETTINGS mode:

1 short press - VFO frequency calibration in LSB mode

  - use another transceiver to generate a carrier at a known frequency (for example 7100.0 kHz)
    (or ask a friend to transmit a carrier at a known frequency)
  - before going into the calibration mode, first set the VFO to 7100.0 kHz in LSB mode
    (the received signal may not yet be zero beat at this point)
  - go into the LSB calibration mode (1 short press)
  - using the tuning pot, adjust the LSB offset for exactly zero beat
  - press the Function Botton again to save the setting
  
2 short presses - VFO frequency calibration in USB mode

  - USB calibration depends on LSB calibration, so make sure that LSB calibration has been done first!
  - use another transceiver to generate a carrier at a known frequency (for example 7100.0 kHz)
    (or ask a friend to transmit a carrier at a known frequency)
  - before going into the calibration mode, first set the VFO to 7100.0 kHz in USB mode
    (the received signal may not yet be zero beat at this point)
  - go into the USB calibration mode (2 short presses)
  - using the tuning pot, adjust the USB offset for exactly zero beat
  - press the Function Botton again to save the setting
  
3 short presses - set VFO drive level in LSB mode

  - tune to 7199 kHz, on most BITX40 transceivers a strong birdie is heard
  - give 3 short presses to the FB to enter the VFO drive level adjustment
  - the default drive level in LSB mode is 4mA
  - using the tuning pot, try different drive levels (2,4,6,8 mA) to minimize the strength of the birdie
  - press the FB again to save the setting
  
4 short presses - set VFO drive level in USB mode

  - tune to a weak signal
  - give 4 short presses to the FB to enter the VFO drive level adjustment
  - the default drive level in USB mode is 8mA
  - using the tuning pot, try different drive levels (2,4,6,8 mA) for maximum signal to noise ratio
  - press the FB again to save the setting
  
5 short presses - set tuning range

  - the default tuning range is 50 kHz (7100-7150 kHz), this is OK for a standard 1-turn pot
  - if you install a multi-turn pot instead you can extend the tuning range
  - using the tuning pot, set the desired tuning range
  - recommended value: 50 kHz for a 1-turn pot, 200 kHz for a 10-turn pot
  - press the FB again to save the setting
  
long press (>2 seconds) - return to the NORMAL mode

All user settings are stored in EEPROM and retrieved during startup.

When you keep the Fbutton pressed during power on all user settings will be erased and set back to "factory" values:
VFO calibration (LSB): 0
VFO offset (USB): 1500 Hz
VFO drive level (LSB): 4mA
VFO drive level (USB): 8mA
Tuning pot lower limit: 7100 kHz
Tuning pot upper limit: 7150 kHz
Mode LSB for both VFO A and B

A warning message "uncalibrated" will be displayed until you recalibrate the VFO again.
